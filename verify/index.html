<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Verificaci칩n de correo | Vault</title>
    <style>
      :root {
        color-scheme: light dark;
        font-family: Arial, Helvetica, sans-serif;
      }
      body {
        margin: 0;
        min-height: 100vh;
        display: grid;
        place-items: center;
        background: #0f172a;
        color: #e2e8f0;
      }
      main {
        width: min(560px, 92vw);
        background: #111827;
        border: 1px solid #334155;
        border-radius: 12px;
        padding: 28px;
        box-sizing: border-box;
      }
      h1 {
        margin-top: 0;
        font-size: 1.4rem;
      }
      p {
        color: #cbd5e1;
      }
      .actions {
        display: flex;
        gap: 12px;
        margin-top: 18px;
        flex-wrap: wrap;
      }
      a {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        border-radius: 8px;
        padding: 10px 14px;
        font-weight: 600;
      }
      a.primary {
        background: #2563eb;
        color: white;
      }
      a.secondary {
        background: transparent;
        border: 1px solid #64748b;
        color: #e2e8f0;
      }
      a[aria-disabled="true"] {
        opacity: 0.5;
        pointer-events: none;
      }
    </style>
  </head>
  <body>
    <main>
      <h1>Verificaci칩n de correo</h1>
      <p id="status">Verificando tu correo...</p>
      <div class="actions">
        <a id="continueLink" class="primary" href="#">Continuar</a>
        <a
          id="openVaultLink"
          class="secondary"
          href="vault://email-verified?status=ok"
          >Abrir Vault</a
        >
      </div>
    </main>

    <script>
      (function () {
        const statusText = document.getElementById('status');
        const continueLink = document.getElementById('continueLink');
        const params = new URLSearchParams(window.location.search);
        const token = params.get('token');

        if (!token) {
          statusText.textContent = 'Token faltante';
          continueLink.href = '#';
          continueLink.setAttribute('aria-disabled', 'true');
          return;
        }

        const verifyUrl = `https://api.vaultop.me/verify?token=${encodeURIComponent(token)}`;
        continueLink.href = verifyUrl;
        continueLink.setAttribute('aria-disabled', 'false');

        // Intento autom치tico de redirecci칩n
        window.location.replace(verifyUrl);
      })();
    </script>
  </body>
</html>
